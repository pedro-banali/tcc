<div class="row" ng-init="listarDev(); listarTreino(); open(); listarDevTreino();">
	<div class="col-lg-12">
		<h1 class="page-header">Atribuir</h1>
	</div>
	<!-- /.col-lg-12 -->
</div>
<!-- /.row -->
<div class="row">
	<div class="col-lg-12">
		<div class="panel panel-default">
			<div class="panel-heading">Atribuir Desenvolvedor a Treino</div>
			<div class="panel-body">
				<div class="row">
					<div class="col-md-8 col-md-offset-2">
						<div>
							<alert ng-repeat="alert in alertsS" type="{{sucesso.type}}"
								close="closeAlertS($index)">{{sucesso.msg}}</alert>
						</div>
						<div>
							<alert ng-repeat="alert in alertsE" type="{{errorMsg.type}}"
								close="closeAlertE($index)">{{errorMsg.msg}}</alert>
						</div>
						<form role="form" ng-submit="atribuir()" name="myForm">
							<div class="form-group">
								<label>Treino</label> <select class="form-control" name="treino"
									ng-model="$parent.atribuicao.treino" required
									ng-if="idTreino === undefined">
									<option ng-repeat="n in treinos.treino" value="{{n.idTreino}}">
										{{n.descricaoTreino}}</option>
								</select> <input type="hidden" name="treino" ng-model="atribuicao.treino"
									ng-value="{{idTreino}}" ng-if="idTreino !== undefined">

								<div ng-if="idTreino !== undefined">{{descricaoTreino}}</div>
							</div>
							<div class="form-group">
								<label>Desenvolvedor</label> <select multiple="multiple"
									class="form-control" name="dev" ng-model="atribuicao.dev"
									required>
									<option ng-repeat="n in usuarios.devs" value="{{n.cpf}}">
										{{n.nome}}</option>
								</select>
							</div>
							<button type="submit" class="btn btn-default"
								ng-disabled="!myForm.$valid">Cadastrar</button>
							<button type="button" class="btn btn-default" onclick="location.href='#/admin-default';">Cancelar</button>
						</form>

					</div>
					<!-- /.col-lg-6 (nested) -->
				</div>
				<div class="row">
					<div class="col-md-8 col-md-offset-2">&nbsp;</div>
				</div>
				<div class="row">
				
					<div class="col-md-8 col-md-offset-2">
						<div class="table-responsive">
							<table class="table table-bordered table-striped">
								<thead>
									<tr>
										<th>Nome Desenvolvedor</small>
										</th>
										<th>Desc
										</th>
										<th>Assunto
										</th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="n in devsTreino.devsTreino" >
										<td>{{n.nome}}</td>
										<td>{{n.descricao}}</td>
										<td>{{n.assunto}}</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
				
				<!-- /.row (nested) -->
			</div>
			<!-- /.panel-body -->
		</div>
		<!-- /.panel -->
	</div>
	<!-- /.col-lg-12 -->
</div>
<!-- /.row -->
<script type="text/ng-template" id="loading.html">
        <div class="modal-header">
            <h3 class="modal-title">Loading</h3>
        </div>
        <div class="modal-body">
			<img src="../img/load.gif" class="img-responsive center-block" height="200" />
        </div>
        <div class="modal-footer">
        </div>
		</script>